<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game dengan Analog & Attack Button</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; background: #222; color: white; }
        canvas { background: black; display: block; margin: 10px auto; touch-action: none; }
        #status { margin-top: 10px; }
    </style>
</head>
<body>
    <h1>Game dengan Analog & Attack Button</h1>
    <canvas id="gameCanvas" width="400" height="400"></canvas>
    <div id="status">Arah: (0, 0) | Attack: Tidak</div>

    <script type="module">
        import Controller from "./controller.js";

const controller = new Controller();

const canvas = document.getElementById("gameCanvas");
const ctx = canvas.getContext("2d");

controller.setAnalogArea(150, 300, 60);

function update() {
    controller.updateGamepad();
    let analog = controller.getAnalog();

    console.log("Analog X:", analog.x, "Analog Y:", analog.y);
}

function draw() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    controller.drawAnalog(ctx);
}

function gameLoop() {
    update();
    draw();
    requestAnimationFrame(gameLoop);
}

gameLoop();
    </script>
</body>
</html>